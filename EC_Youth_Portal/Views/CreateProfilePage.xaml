<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:EC_Youth_Portal.ViewModel"
             x:Class="EC_Youth_Portal.Views.CreateProfilePage"
             BackgroundColor="#F5F5F5"
             NavigationPage.HasNavigationBar="False"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False">
    
    <Grid RowDefinitions="Auto,*,Auto">

        <!-- HEADER WITH PROGRESS -->
        <Frame Grid.Row="0" 
               BackgroundColor="#1E3A5F" 
               Padding="25,20,25,15" 
               CornerRadius="0"
               HasShadow="True">
            <VerticalStackLayout Spacing="12">

                <!-- Title & Step -->
                <Grid ColumnDefinitions="*,Auto">
                    <VerticalStackLayout Grid.Column="0" Spacing="5">
                        <Label Text="Complete Your Profile"
                               FontSize="26"
                               FontAttributes="Bold"
                               TextColor="White"/>
                        <Label Text="{Binding CurrentStepText}"
                               FontSize="13"
                               TextColor="#94A3B8"/>
                    </VerticalStackLayout>

                    <Frame Grid.Column="1"
                           BackgroundColor="#FFA500"
                           CornerRadius="20"
                           Padding="12,8"
                           HasShadow="False"
                           VerticalOptions="Center">
                        <Label Text="{Binding ProgressPercentage}"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="White"/>
                    </Frame>
                </Grid>

                <!-- Progress Bar -->
                <Grid ColumnDefinitions="*,*,*,*,*" 
                      ColumnSpacing="8" 
                      Margin="0,8,0,0">
                    <BoxView Grid.Column="0" 
                             BackgroundColor="{Binding Step1Color}" 
                             CornerRadius="3" 
                             HeightRequest="6"/>
                    <BoxView Grid.Column="1" 
                             BackgroundColor="{Binding Step2Color}" 
                             CornerRadius="3" 
                             HeightRequest="6"/>
                    <BoxView Grid.Column="2" 
                             BackgroundColor="{Binding Step3Color}" 
                             CornerRadius="3" 
                             HeightRequest="6"/>
                    <BoxView Grid.Column="3" 
                             BackgroundColor="{Binding Step4Color}" 
                             CornerRadius="3" 
                             HeightRequest="6"/>
                    <BoxView Grid.Column="4" 
                             BackgroundColor="{Binding Step5Color}" 
                             CornerRadius="3" 
                             HeightRequest="6"/>
                </Grid>

            </VerticalStackLayout>
        </Frame>

        <!-- SCROLLABLE CONTENT -->
        <ScrollView Grid.Row="1" x:Name="MainScrollView">
            <VerticalStackLayout Padding="20" Spacing="20">

                <!-- ==================== SECTION 1: PERSONAL INFORMATION ==================== -->
                <VerticalStackLayout x:Name="Section1Container" 
                                    Spacing="20"
                                    IsVisible="{Binding IsSection1Visible}">

                    <!-- Section Header -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸ‘¤"
                                   FontSize="24"/>
                            <Label Text="Personal Information"
                                   FontSize="22"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        <Label Text="Tell us about yourself"
                               FontSize="14"
                               TextColor="#64748B"/>
                    </VerticalStackLayout>

                    <!-- Profile Picture Upload -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="15">

                            <!-- Profile Picture Circle -->
                            <Frame BackgroundColor="#E0E0E0"
                                   CornerRadius="60"
                                   Padding="0"
                                   WidthRequest="120"
                                   HeightRequest="120"
                                   HorizontalOptions="Center"
                                   HasShadow="False"
                                   BorderColor="#1E3A5F">
                                <Image Source="{Binding ProfilePicture}"
                                       Aspect="AspectFill">
                                    <!-- Placeholder when no image -->
                                </Image>
                            </Frame>

                            <!-- Upload Button -->
                            <Button Text="ðŸ“¸ Upload Photo"
                                    BackgroundColor="Transparent"
                                    TextColor="#FFA500"
                                    BorderColor="#FFA500"
                                    BorderWidth="2"
                                    CornerRadius="12"
                                    Padding="12,10"
                                    FontSize="14"
                                    FontAttributes="Bold"
                                    HorizontalOptions="Center"
                                    Command="{Binding UploadPhotoCommand}"/>

                        </VerticalStackLayout>
                    </Frame>

                    <!-- Personal Details Card -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="18">

                            <!-- Preferred Name -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Preferred Name"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Entry Placeholder="What should we call you?"
                                           PlaceholderColor="#94A3B8"
                                           TextColor="#1E3A5F"
                                           FontSize="15"
                                           Margin="15,0"
                                           Text="{Binding PreferredName}"/>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- ID Number -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="ID Number *"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Entry Placeholder="Enter your ID number"
                                           PlaceholderColor="#94A3B8"
                                           TextColor="#1E3A5F"
                                           FontSize="15"
                                           Keyboard="Numeric"
                                           MaxLength="13"
                                           Margin="15,0"
                                           Text="{Binding IdNumber}"/>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- Phone Number -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Phone Number *"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Entry Placeholder="e.g., 0712345678"
                                           PlaceholderColor="#94A3B8"
                                           TextColor="#1E3A5F"
                                           FontSize="15"
                                           Keyboard="Telephone"
                                           Margin="15,0"
                                           Text="{Binding PhoneNumber}"/>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- Date of Birth -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Date of Birth *"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <DatePicker Date="{Binding DateOfBirth}"
                                                TextColor="#1E3A5F"
                                                FontSize="15"
                                                Margin="15,0"
                                                MinimumDate="01/01/1950"
                                                MaximumDate="{Binding TodayDate}"/>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- Gender & Race in Grid -->
                            <Grid ColumnDefinitions="*,*" ColumnSpacing="12">

                                <!-- Gender -->
                                <VerticalStackLayout Grid.Column="0" Spacing="8">
                                    <Label Text="Gender"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Frame Padding="0"
                                           CornerRadius="12"
                                           HasShadow="False"
                                           BorderColor="#E0E0E0"
                                           BackgroundColor="White">
                                        <Picker SelectedItem="{Binding Gender}"
                                                TextColor="#1E3A5F"
                                                FontSize="14"
                                                Margin="12,0">
                                            <Picker.Items>
                                                <x:String>Male</x:String>
                                                <x:String>Female</x:String>
                                                <x:String>Non-binary</x:String>
                                                <x:String>Prefer not to say</x:String>
                                            </Picker.Items>
                                        </Picker>
                                    </Frame>
                                </VerticalStackLayout>

                                <!-- Race -->
                                <VerticalStackLayout Grid.Column="1" Spacing="8">
                                    <Label Text="Race"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Frame Padding="0"
                                           CornerRadius="12"
                                           HasShadow="False"
                                           BorderColor="#E0E0E0"
                                           BackgroundColor="White">
                                        <Picker SelectedItem="{Binding Race}"
                                                TextColor="#1E3A5F"
                                                FontSize="14"
                                                Margin="12,0">
                                            <Picker.Items>
                                                <x:String>Black African</x:String>
                                                <x:String>Coloured</x:String>
                                                <x:String>Indian/Asian</x:String>
                                                <x:String>White</x:String>
                                                <x:String>Other</x:String>
                                                <x:String>Prefer not to say</x:String>
                                            </Picker.Items>
                                        </Picker>
                                    </Frame>
                                </VerticalStackLayout>

                            </Grid>

                            <!-- Disability -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Disability Status"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame BackgroundColor="#F5F5F5"
                                       CornerRadius="12"
                                       Padding="15"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0">
                                    <VerticalStackLayout Spacing="10">
                                        <HorizontalStackLayout Spacing="12">
                                            <Switch IsToggled="{Binding HasDisability}"
                                                    OnColor="#FFA500"
                                                    ThumbColor="White"/>
                                            <Label Text="I have a disability"
                                                   FontSize="14"
                                                   TextColor="#1E3A5F"
                                                   VerticalOptions="Center"/>
                                        </HorizontalStackLayout>

                                        <!-- Conditional Input -->
                                        <Entry Placeholder="Please specify (optional)"
                                               PlaceholderColor="#94A3B8"
                                               TextColor="#1E3A5F"
                                               FontSize="14"
                                               IsVisible="{Binding HasDisability}"
                                               Text="{Binding DisabilityDetails}"/>
                                    </VerticalStackLayout>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- District & Language -->
                            <Grid ColumnDefinitions="*,*" ColumnSpacing="12">

                                <!-- District -->
                                <VerticalStackLayout Grid.Column="0" Spacing="8">
                                    <Label Text="District *"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Frame Padding="0"
                                           CornerRadius="12"
                                           HasShadow="False"
                                           BorderColor="#E0E0E0"
                                           BackgroundColor="White">
                                        <Picker SelectedItem="{Binding District}"
                                                TextColor="#1E3A5F"
                                                FontSize="14"
                                                Margin="12,0">
                                            <Picker.Items>
                                                <x:String>Alfred Nzo</x:String>
                                                <x:String>Amathole</x:String>
                                                <x:String>Buffalo City</x:String>
                                                <x:String>Chris Hani</x:String>
                                                <x:String>Joe Gqabi</x:String>
                                                <x:String>Nelson Mandela Bay</x:String>
                                                <x:String>OR Tambo</x:String>
                                                <x:String>Sarah Baartman</x:String>
                                            </Picker.Items>
                                        </Picker>
                                    </Frame>
                                </VerticalStackLayout>

                                <!-- Preferred Language -->
                                <VerticalStackLayout Grid.Column="1" Spacing="8">
                                    <Label Text="Language *"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Frame Padding="0"
                                           CornerRadius="12"
                                           HasShadow="False"
                                           BorderColor="#E0E0E0"
                                           BackgroundColor="White">
                                        <Picker SelectedItem="{Binding PreferredLanguage}"
                                                TextColor="#1E3A5F"
                                                FontSize="14"
                                                Margin="12,0">
                                            <Picker.Items>
                                                <x:String>English</x:String>
                                                <x:String>isiXhosa</x:String>
                                                <x:String>Afrikaans</x:String>
                                                <x:String>Other</x:String>
                                            </Picker.Items>
                                        </Picker>
                                    </Frame>
                                </VerticalStackLayout>

                            </Grid>

                            <!-- Bio -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="About You"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Editor Placeholder="Tell us about yourself, your interests, and goals..."
                                            PlaceholderColor="#94A3B8"
                                            TextColor="#1E3A5F"
                                            FontSize="14"
                                            HeightRequest="100"
                                            Margin="15,10"
                                            Text="{Binding Bio}"/>
                                </Frame>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Frame>

                </VerticalStackLayout>

                <!-- ==================== SECTION 2: EDUCATION ==================== -->
                <VerticalStackLayout x:Name="Section2Container" 
                                    Spacing="20"
                                    IsVisible="{Binding IsSection2Visible}">

                    <!-- Section Header -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸŽ“"
                                   FontSize="24"/>
                            <Label Text="Education and  Qualifications"
                                   FontSize="22"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        <Label Text="Your educational background"
                               FontSize="14"
                               TextColor="#64748B"/>
                    </VerticalStackLayout>

                    <!-- Education Card -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="18">

                            <!-- Highest Education Level -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Highest Education Level *"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Picker SelectedItem="{Binding EducationLevel}"
                                            TextColor="#1E3A5F"
                                            FontSize="14"
                                            Margin="12,0">
                                        <Picker.Items>
                                            <x:String>No schooling</x:String>
                                            <x:String>Some primary school</x:String>
                                            <x:String>Completed primary school</x:String>
                                            <x:String>Some high school</x:String>
                                            <x:String>Matric / Grade 12</x:String>
                                            <x:String>Certificate</x:String>
                                            <x:String>Diploma</x:String>
                                            <x:String>Degree</x:String>
                                            <x:String>Postgraduate</x:String>
                                            <x:String>Prefer not to say</x:String>
                                        </Picker.Items>
                                    </Picker>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- Currently Studying -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Currently Studying?"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame BackgroundColor="#F5F5F5"
                                       CornerRadius="12"
                                       Padding="15"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0">
                                    <VerticalStackLayout Spacing="10">
                                        <HorizontalStackLayout Spacing="12">
                                            <Switch IsToggled="{Binding IsCurrentlyStudying}"
                                                    OnColor="#FFA500"
                                                    ThumbColor="White"/>
                                            <Label Text="Yes, I am currently studying"
                                                   FontSize="14"
                                                   TextColor="#1E3A5F"
                                                   VerticalOptions="Center"/>
                                        </HorizontalStackLayout>

                                        <!-- Conditional Input -->
                                        <Entry Placeholder="What are you studying?"
                                               PlaceholderColor="#94A3B8"
                                               TextColor="#1E3A5F"
                                               FontSize="14"
                                               IsVisible="{Binding IsCurrentlyStudying}"
                                               Text="{Binding CurrentStudy}"/>
                                    </VerticalStackLayout>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- Field of Study -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Field of Study"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Entry Placeholder="e.g., Engineering, IT, Business"
                                           PlaceholderColor="#94A3B8"
                                           TextColor="#1E3A5F"
                                           FontSize="15"
                                           Margin="15,0"
                                           Text="{Binding FieldOfStudy}"/>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- Institution & Year -->
                            <Grid ColumnDefinitions="*,*" ColumnSpacing="12">

                                <!-- Institution -->
                                <VerticalStackLayout Grid.Column="0" Spacing="8">
                                    <Label Text="Institution"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Frame Padding="0"
                                           CornerRadius="12"
                                           HasShadow="False"
                                           BorderColor="#E0E0E0"
                                           BackgroundColor="White">
                                        <Entry Placeholder="School/College"
                                               PlaceholderColor="#94A3B8"
                                               TextColor="#1E3A5F"
                                               FontSize="14"
                                               Margin="12,0"
                                               Text="{Binding Institution}"/>
                                    </Frame>
                                </VerticalStackLayout>

                                <!-- Year Completed -->
                                <VerticalStackLayout Grid.Column="1" Spacing="8">
                                    <Label Text="Year Completed"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Frame Padding="0"
                                           CornerRadius="12"
                                           HasShadow="False"
                                           BorderColor="#E0E0E0"
                                           BackgroundColor="White">
                                        <Entry Placeholder="e.g., 2024"
                                               PlaceholderColor="#94A3B8"
                                               TextColor="#1E3A5F"
                                               FontSize="14"
                                               Keyboard="Numeric"
                                               MaxLength="4"
                                               Margin="12,0"
                                               Text="{Binding YearCompleted}"/>
                                    </Frame>
                                </VerticalStackLayout>

                            </Grid>

                            <!-- Short Courses Upload -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Certificates / Short Courses (Optional)"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Button Text="ðŸ“Ž Upload Certificates"
                                        BackgroundColor="Transparent"
                                        TextColor="#FFA500"
                                        BorderColor="#FFA500"
                                        BorderWidth="2"
                                        CornerRadius="12"
                                        Padding="12,10"
                                        FontSize="14"
                                        FontAttributes="Bold"
                                        Command="{Binding UploadCertificatesCommand}"/>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Frame>

                </VerticalStackLayout>

                <!-- ==================== SECTION 3: SKILLS & EMPLOYMENT ==================== -->
                <VerticalStackLayout x:Name="Section3Container" 
                                    Spacing="20"
                                    IsVisible="{Binding IsSection3Visible}">

                    <!-- Section Header -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸ’¼"
                                   FontSize="24"/>
                            <Label Text="Skills and  Employment"
                                   FontSize="22"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        <Label Text="Tell us about your skills and work experience"
                               FontSize="14"
                               TextColor="#64748B"/>
                    </VerticalStackLayout>

                    <!-- Employment Status Card -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="18">

                            <!-- Employment Status -->
                            <VerticalStackLayout Spacing="8">
                                <Label Text="Employment Status *"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Picker SelectedItem="{Binding EmploymentStatus}"
                                            TextColor="#1E3A5F"
                                            FontSize="14"
                                            Margin="12,0">
                                        <Picker.Items>
                                            <x:String>Unemployed</x:String>
                                            <x:String>Looking for work</x:String>
                                            <x:String>Working full-time</x:String>
                                            <x:String>Working part-time</x:String>
                                            <x:String>Freelancer</x:String>
                                            <x:String>Entrepreneur</x:String>
                                            <x:String>Student</x:String>
                                            <x:String>Other</x:String>
                                        </Picker.Items>
                                    </Picker>
                                </Frame>
                            </VerticalStackLayout>

                            <!-- Conditional: If Employed -->
                            <VerticalStackLayout Spacing="12" 
                                                IsVisible="{Binding IsEmployed}">
                                <BoxView HeightRequest="1" 
                                         BackgroundColor="#E0E0E0"/>

                                <!-- Company Name -->
                                <VerticalStackLayout Spacing="8">
                                    <Label Text="Company/Business Name"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Frame Padding="0"
                                           CornerRadius="12"
                                           HasShadow="False"
                                           BorderColor="#E0E0E0"
                                           BackgroundColor="White">
                                        <Entry Placeholder="Where do you work?"
                                               PlaceholderColor="#94A3B8"
                                               TextColor="#1E3A5F"
                                               FontSize="14"
                                               Margin="12,0"
                                               Text="{Binding CompanyName}"/>
                                    </Frame>
                                </VerticalStackLayout>

                                <!-- Position & Duration -->
                                <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                                    <VerticalStackLayout Grid.Column="0" Spacing="8">
                                        <Label Text="Position"
                                               FontSize="14"
                                               FontAttributes="Bold"
                                               TextColor="#1E3A5F"/>
                                        <Frame Padding="0"
                                               CornerRadius="12"
                                               HasShadow="False"
                                               BorderColor="#E0E0E0"
                                               BackgroundColor="White">
                                            <Entry Placeholder="Your role"
                                                   PlaceholderColor="#94A3B8"
                                                   TextColor="#1E3A5F"
                                                   FontSize="14"
                                                   Margin="12,0"
                                                   Text="{Binding Position}"/>
                                        </Frame>
                                    </VerticalStackLayout>

                                    <VerticalStackLayout Grid.Column="1" Spacing="8">
                                        <Label Text="Duration"
                                               FontSize="14"
                                               FontAttributes="Bold"
                                               TextColor="#1E3A5F"/>
                                        <Frame Padding="0"
                                               CornerRadius="12"
                                               HasShadow="False"
                                               BorderColor="#E0E0E0"
                                               BackgroundColor="White">
                                            <Entry Placeholder="e.g., 2 years"
                                                   PlaceholderColor="#94A3B8"
                                                   TextColor="#1E3A5F"
                                                   FontSize="14"
                                                   Margin="12,0"
                                                   Text="{Binding Duration}"/>
                                        </Frame>
                                    </VerticalStackLayout>
                                </Grid>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Frame>

                    <!-- Skills Card -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="18">

                            <!-- Technical Skills -->
                            <VerticalStackLayout Spacing="10">
                                <Label Text="Technical Skills *"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="Select all that apply"
                                       FontSize="12"
                                       TextColor="#64748B"/>

                                <!-- Multi-Select Dropdown Trigger -->
                                <Frame BackgroundColor="#F5F5F5"
                                       BorderColor="#FFA500"
                                       CornerRadius="12"
                                       Padding="0"
                                       HasShadow="False">
                                    <Frame.GestureRecognizers>
                                        <TapGestureRecognizer Command="{Binding OpenTechnicalSkillsCommand}"/>
                                    </Frame.GestureRecognizers>
                                    <Grid ColumnDefinitions="*,Auto" 
                                          Padding="15,12">
                                        <Label Grid.Column="0"
                                               Text="{Binding TechnicalSkillsDisplayText}"
                                               TextColor="{Binding TechnicalSkillsTextColor}"
                                               FontSize="14"
                                               VerticalOptions="Center"/>
                                        <Label Grid.Column="1"
                                               Text="â–¼"
                                               FontSize="14"
                                               TextColor="#FFA500"
                                               FontAttributes="Bold"
                                               VerticalOptions="Center"/>
                                    </Grid>
                                </Frame>

                                <!-- Selected Skills Display (Chips) -->
                                <FlexLayout BindableLayout.ItemsSource="{Binding SelectedTechnicalSkills}"
                                            Wrap="Wrap"
                                            JustifyContent="Start"
                                            AlignItems="Start"
                                            Margin="0,8,0,0">
                                    <BindableLayout.ItemTemplate>
                                        <DataTemplate>
                                            <Frame BackgroundColor="#1E3A5F"
                                                   CornerRadius="20"
                                                   Padding="12,6"
                                                   HasShadow="False"
                                                   Margin="0,0,8,8">
                                                <HorizontalStackLayout Spacing="8">
                                                    <Label Text="{Binding Icon}"
                                                           FontSize="14"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="{Binding Name}"
                                                           TextColor="White"
                                                           FontSize="13"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="âœ•"
                                                           TextColor="#FFA500"
                                                           FontSize="14"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center">
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type viewmodels:CreateProfileViewModel}}, Path=RemoveTechnicalSkillCommand}"
                                                                                 CommandParameter="{Binding .}"/>
                                                        </Label.GestureRecognizers>
                                                    </Label>
                                                </HorizontalStackLayout>
                                            </Frame>
                                        </DataTemplate>
                                    </BindableLayout.ItemTemplate>
                                </FlexLayout>
                            </VerticalStackLayout>

                            <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                            <!-- Soft Skills -->
                            <VerticalStackLayout Spacing="10">
                                <Label Text="Soft Skills"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="Select all that apply"
                                       FontSize="12"
                                       TextColor="#64748B"/>

                                <!-- Multi-Select Dropdown Trigger -->
                                <Frame BackgroundColor="#F5F5F5"
                                       BorderColor="#E0E0E0"
                                       CornerRadius="12"
                                       Padding="0"
                                       HasShadow="False">
                                    <Frame.GestureRecognizers>
                                        <TapGestureRecognizer Command="{Binding OpenSoftSkillsCommand}"/>
                                    </Frame.GestureRecognizers>
                                    <Grid ColumnDefinitions="*,Auto" 
                                          Padding="15,12">
                                        <Label Grid.Column="0"
                                               Text="{Binding SoftSkillsDisplayText}"
                                               TextColor="{Binding SoftSkillsTextColor}"
                                               FontSize="14"
                                               VerticalOptions="Center"/>
                                        <Label Grid.Column="1"
                                               Text="â–¼"
                                               FontSize="14"
                                               TextColor="#64748B"
                                               VerticalOptions="Center"/>
                                    </Grid>
                                </Frame>

                                <!-- Selected Skills Display (Chips) -->
                                <FlexLayout BindableLayout.ItemsSource="{Binding SelectedSoftSkills}"
                                            Wrap="Wrap"
                                            JustifyContent="Start"
                                            AlignItems="Start"
                                            Margin="0,8,0,0">
                                    <BindableLayout.ItemTemplate>
                                        <DataTemplate>
                                            <Frame BackgroundColor="#64748B"
                                                   CornerRadius="20"
                                                   Padding="12,6"
                                                   HasShadow="False"
                                                   Margin="0,0,8,8">
                                                <HorizontalStackLayout Spacing="8">
                                                    <Label Text="{Binding Icon}"
                                                           FontSize="14"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="{Binding Name}"
                                                           TextColor="White"
                                                           FontSize="13"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="âœ•"
                                                           TextColor="White"
                                                           FontSize="14"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center">
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type viewmodels:CreateProfileViewModel}}, Path=RemoveSoftSkillCommand}"
                                                                                 CommandParameter="{Binding .}"/>
                                                        </Label.GestureRecognizers>
                                                    </Label>
                                                </HorizontalStackLayout>
                                            </Frame>
                                        </DataTemplate>
                                    </BindableLayout.ItemTemplate>
                                </FlexLayout>
                            </VerticalStackLayout>

                            <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                            <!-- Industries -->
                            <VerticalStackLayout Spacing="10">
                                <Label Text="Industries of Interest"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="Select industries you're interested in"
                                       FontSize="12"
                                       TextColor="#64748B"/>

                                <!-- Multi-Select Dropdown Trigger -->
                                <Frame BackgroundColor="#F5F5F5"
                                       BorderColor="#E0E0E0"
                                       CornerRadius="12"
                                       Padding="0"
                                       HasShadow="False">
                                    <Frame.GestureRecognizers>
                                        <TapGestureRecognizer Command="{Binding OpenIndustriesCommand}"/>
                                    </Frame.GestureRecognizers>
                                    <Grid ColumnDefinitions="*,Auto" 
                                          Padding="15,12">
                                        <Label Grid.Column="0"
                                               Text="{Binding IndustriesDisplayText}"
                                               TextColor="{Binding IndustriesTextColor}"
                                               FontSize="14"
                                               VerticalOptions="Center"/>
                                        <Label Grid.Column="1"
                                               Text="â–¼"
                                               FontSize="14"
                                               TextColor="#64748B"
                                               VerticalOptions="Center"/>
                                    </Grid>
                                </Frame>

                                <!-- Selected Industries Display (Chips) -->
                                <FlexLayout BindableLayout.ItemsSource="{Binding SelectedIndustries}"
                                            Wrap="Wrap"
                                            JustifyContent="Start"
                                            AlignItems="Start"
                                            Margin="0,8,0,0">
                                    <BindableLayout.ItemTemplate>
                                        <DataTemplate>
                                            <Frame BackgroundColor="#FFA500"
                                                   CornerRadius="20"
                                                   Padding="12,6"
                                                   HasShadow="False"
                                                   Margin="0,0,8,8">
                                                <HorizontalStackLayout Spacing="8">
                                                    <Label Text="{Binding Icon}"
                                                           FontSize="14"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="{Binding Name}"
                                                           TextColor="White"
                                                           FontSize="13"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="âœ•"
                                                           TextColor="White"
                                                           FontSize="14"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center">
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type viewmodels:CreateProfileViewModel}}, Path=RemoveIndustryCommand}"
                                                                                 CommandParameter="{Binding .}"/>
                                                        </Label.GestureRecognizers>
                                                    </Label>
                                                </HorizontalStackLayout>
                                            </Frame>
                                        </DataTemplate>
                                    </BindableLayout.ItemTemplate>
                                </FlexLayout>
                            </VerticalStackLayout>

                            <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                            <!-- Goals -->
                            <VerticalStackLayout Spacing="10">
                                <Label Text="Your Goals"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="What do you want to achieve?"
                                       FontSize="12"
                                       TextColor="#64748B"/>

                                <!-- Multi-Select Dropdown Trigger -->
                                <Frame BackgroundColor="#F5F5F5"
                                       BorderColor="#E0E0E0"
                                       CornerRadius="12"
                                       Padding="0"
                                       HasShadow="False">
                                    <Frame.GestureRecognizers>
                                        <TapGestureRecognizer Command="{Binding OpenGoalsCommand}"/>
                                    </Frame.GestureRecognizers>
                                    <Grid ColumnDefinitions="*,Auto" 
                                          Padding="15,12">
                                        <Label Grid.Column="0"
                                               Text="{Binding GoalsDisplayText}"
                                               TextColor="{Binding GoalsTextColor}"
                                               FontSize="14"
                                               VerticalOptions="Center"/>
                                        <Label Grid.Column="1"
                                               Text="â–¼"
                                               FontSize="14"
                                               TextColor="#64748B"
                                               VerticalOptions="Center"/>
                                    </Grid>
                                </Frame>

                                <!-- Selected Goals Display (Chips) -->
                                <FlexLayout BindableLayout.ItemsSource="{Binding SelectedGoals}"
                                            Wrap="Wrap"
                                            JustifyContent="Start"
                                            AlignItems="Start"
                                            Margin="0,8,0,0">
                                    <BindableLayout.ItemTemplate>
                                        <DataTemplate>
                                            <Frame BackgroundColor="#1E3A5F"
                                                   CornerRadius="20"
                                                   Padding="12,6"
                                                   HasShadow="False"
                                                   Margin="0,0,8,8">
                                                <HorizontalStackLayout Spacing="8">
                                                    <Label Text="{Binding Icon}"
                                                           FontSize="14"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="{Binding Name}"
                                                           TextColor="White"
                                                           FontSize="13"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center"/>
                                                    <Label Text="âœ•"
                                                           TextColor="#FFA500"
                                                           FontSize="14"
                                                           FontAttributes="Bold"
                                                           VerticalOptions="Center">
                                                        <Label.GestureRecognizers>
                                                            <TapGestureRecognizer Command="{Binding Source={RelativeSource AncestorType={x:Type viewmodels:CreateProfileViewModel}}, Path=RemoveGoalCommand}"
                                                                                 CommandParameter="{Binding .}"/>
                                                        </Label.GestureRecognizers>
                                                    </Label>
                                                </HorizontalStackLayout>
                                            </Frame>
                                        </DataTemplate>
                                    </BindableLayout.ItemTemplate>
                                </FlexLayout>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Frame>

                </VerticalStackLayout>

                <!-- ==================== SECTION 4: PREFERENCES ==================== -->
                <VerticalStackLayout x:Name="Section4Container" 
                                    Spacing="20"
                                    IsVisible="{Binding IsSection4Visible}">

                    <!-- Section Header -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸ””"
                                   FontSize="24"/>
                            <Label Text="Preferences and  Notifications"
                                   FontSize="22"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        <Label Text="Customize your experience"
                               FontSize="14"
                               TextColor="#64748B"/>
                    </VerticalStackLayout>

                    <!-- Opportunity Types Card -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="15">

                            <Label Text="Opportunity Types *"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"/>
                            <Label Text="Select the types of opportunities you're interested in"
                                   FontSize="13"
                                   TextColor="#64748B"/>

                            <!-- Jobs -->
                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0">
                                <HorizontalStackLayout Spacing="12">
                                    <CheckBox IsChecked="{Binding ShowJobs}"
                                              Color="#FFA500"/>
                                    <VerticalStackLayout Spacing="3" VerticalOptions="Center">
                                        <Label Text="ðŸ’¼ Jobs"
                                               FontSize="15"
                                               FontAttributes="Bold"
                                               TextColor="#1E3A5F"/>
                                        <Label Text="Full-time, part-time, and contract positions"
                                               FontSize="12"
                                               TextColor="#64748B"/>
                                    </VerticalStackLayout>
                                </HorizontalStackLayout>
                            </Frame>

                            <!-- Bursaries -->
                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0">
                                <HorizontalStackLayout Spacing="12">
                                    <CheckBox IsChecked="{Binding ShowBursaries}"
                                              Color="#FFA500"/>
                                    <VerticalStackLayout Spacing="3" VerticalOptions="Center">
                                        <Label Text="ðŸŽ“ Bursaries"
                                               FontSize="15"
                                               FontAttributes="Bold"
                                               TextColor="#1E3A5F"/>
                                        <Label Text="Financial support for your studies"
                                               FontSize="12"
                                               TextColor="#64748B"/>
                                    </VerticalStackLayout>
                                </HorizontalStackLayout>
                            </Frame>

                            <!-- Internships -->
                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0">
                                <HorizontalStackLayout Spacing="12">
                                    <CheckBox IsChecked="{Binding ShowInternships}"
                                              Color="#FFA500"/>
                                    <VerticalStackLayout Spacing="3" VerticalOptions="Center">
                                        <Label Text="ðŸ¢ Internships"
                                               FontSize="15"
                                               FontAttributes="Bold"
                                               TextColor="#1E3A5F"/>
                                        <Label Text="Gain work experience in your field"
                                               FontSize="12"
                                               TextColor="#64748B"/>
                                    </VerticalStackLayout>
                                </HorizontalStackLayout>
                            </Frame>

                            <!-- Learnerships -->
                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0">
                                <HorizontalStackLayout Spacing="12">
                                    <CheckBox IsChecked="{Binding ShowLearnerships}"
                                              Color="#FFA500"/>
                                    <VerticalStackLayout Spacing="3" VerticalOptions="Center">
                                        <Label Text="ðŸ“– Learnerships"
                                               FontSize="15"
                                               FontAttributes="Bold"
                                               TextColor="#1E3A5F"/>
                                        <Label Text="Earn while you learn programs"
                                               FontSize="12"
                                               TextColor="#64748B"/>
                                    </VerticalStackLayout>
                                </HorizontalStackLayout>
                            </Frame>

                            <!-- SMME Funding -->
                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0">
                                <HorizontalStackLayout Spacing="12">
                                    <CheckBox IsChecked="{Binding ShowSMMEFunding}"
                                              Color="#FFA500"/>
                                    <VerticalStackLayout Spacing="3" VerticalOptions="Center">
                                        <Label Text="ðŸ’° SMME Funding"
                                               FontSize="15"
                                               FontAttributes="Bold"
                                               TextColor="#1E3A5F"/>
                                        <Label Text="Business funding and support"
                                               FontSize="12"
                                               TextColor="#64748B"/>
                                    </VerticalStackLayout>
                                </HorizontalStackLayout>
                            </Frame>

                        </VerticalStackLayout>
                    </Frame>

                    <!-- Y2R Connect Card -->
                    <Frame BackgroundColor="#FFF3E0"
                           BorderColor="#FFA500"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False">
                        <VerticalStackLayout Spacing="15">

                            <HorizontalStackLayout Spacing="10">
                                <Label Text="ðŸ¤"
                                       FontSize="24"/>
                                <Label Text="Y2R Connect"
                                       FontSize="18"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>

                            <Label Text="Allow recruiters and employers to discover your profile and contact you about job opportunities that match your skills."
                                   FontSize="13"
                                   TextColor="#64748B"
                                   LineBreakMode="WordWrap"/>

                            <Frame BackgroundColor="White"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False"
                                   BorderColor="#FFA500">
                                <HorizontalStackLayout Spacing="12">
                                    <CheckBox IsChecked="{Binding EnableY2RConnect}"
                                              Color="#FFA500"/>
                                    <Label Text="Yes, let recruiters discover me"
                                           FontSize="15"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"
                                           VerticalOptions="Center"/>
                                </HorizontalStackLayout>
                            </Frame>

                        </VerticalStackLayout>
                    </Frame>

                    <!-- Notification Preferences Card -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="18">

                            <Label Text="How would you like to be notified?"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"/>

                            <!-- Email Notifications -->
                            <HorizontalStackLayout Spacing="12">
                                <CheckBox IsChecked="{Binding NotifyByEmail}"
                                          Color="#FFA500"/>
                                <VerticalStackLayout Spacing="2" VerticalOptions="Center">
                                    <Label Text="ðŸ“§ Email notifications"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Label Text="Receive updates via email"
                                           FontSize="12"
                                           TextColor="#64748B"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>

                            <!-- SMS Notifications -->
                            <HorizontalStackLayout Spacing="12">
                                <CheckBox IsChecked="{Binding NotifyBySMS}"
                                          Color="#FFA500"/>
                                <VerticalStackLayout Spacing="2" VerticalOptions="Center">
                                    <Label Text="ðŸ“± SMS/Text messages"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Label Text="Get text message alerts"
                                           FontSize="12"
                                           TextColor="#64748B"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>

                            <!-- Push Notifications -->
                            <HorizontalStackLayout Spacing="12">
                                <CheckBox IsChecked="{Binding NotifyByPush}"
                                          Color="#FFA500"/>
                                <VerticalStackLayout Spacing="2" VerticalOptions="Center">
                                    <Label Text="ðŸ”” Push notifications"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Label Text="In-app notifications"
                                           FontSize="12"
                                           TextColor="#64748B"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>

                            <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                            <!-- Notification Frequency -->
                            <VerticalStackLayout Spacing="10">
                                <Label Text="Notification Frequency"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Frame Padding="0"
                                       CornerRadius="12"
                                       HasShadow="False"
                                       BorderColor="#E0E0E0"
                                       BackgroundColor="White">
                                    <Picker SelectedItem="{Binding NotificationFrequency}"
                                            TextColor="#1E3A5F"
                                            FontSize="14"
                                            Margin="12,0">
                                        <Picker.Items>
                                            <x:String>Daily</x:String>
                                            <x:String>Weekly</x:String>
                                            <x:String>Important Only</x:String>
                                            <x:String>Never</x:String>
                                        </Picker.Items>
                                    </Picker>
                                </Frame>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Frame>

                    <!-- Privacy Settings Card -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="20"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <VerticalStackLayout Spacing="18">

                            <Label Text="Privacy Settings"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"/>

                            <!-- Profile Visibility -->
                            <VerticalStackLayout Spacing="10">
                                <Label Text="Who can view your profile?"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>

                                <VerticalStackLayout Spacing="8" RadioButtonGroup.GroupName="ProfileVisibility" RadioButtonGroup.SelectedValue="{Binding ProfileVisibility}">
                                    <RadioButton Content="Everyone" 
                                                 Value="Everyone"
                                                 GroupName="ProfileVisibility">
                                        <RadioButton.ControlTemplate>
                                            <ControlTemplate>
                                                <Frame BackgroundColor="#F5F5F5"
                                                       CornerRadius="10"
                                                       Padding="12"
                                                       HasShadow="False"
                                                       BorderColor="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}">
                                                    <HorizontalStackLayout Spacing="10">
                                                        <Ellipse Fill="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}"
                                                                 WidthRequest="20"
                                                                 HeightRequest="20"
                                                                 Stroke="#E0E0E0"
                                                                 StrokeThickness="2"/>
                                                        <Label Text="Everyone"
                                                               FontSize="14"
                                                               TextColor="#1E3A5F"
                                                               VerticalOptions="Center"/>
                                                    </HorizontalStackLayout>
                                                </Frame>
                                            </ControlTemplate>
                                        </RadioButton.ControlTemplate>
                                    </RadioButton>

                                    <RadioButton Content="Recruiters only" 
                                                 Value="RecruitersOnly"
                                                 GroupName="ProfileVisibility">
                                        <RadioButton.ControlTemplate>
                                            <ControlTemplate>
                                                <Frame BackgroundColor="#F5F5F5"
                                                       CornerRadius="10"
                                                       Padding="12"
                                                       HasShadow="False"
                                                       BorderColor="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}">
                                                    <HorizontalStackLayout Spacing="10">
                                                        <Ellipse Fill="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}"
                                                                 WidthRequest="20"
                                                                 HeightRequest="20"
                                                                 Stroke="#E0E0E0"
                                                                 StrokeThickness="2"/>
                                                        <Label Text="Recruiters only"
                                                               FontSize="14"
                                                               TextColor="#1E3A5F"
                                                               VerticalOptions="Center"/>
                                                    </HorizontalStackLayout>
                                                </Frame>
                                            </ControlTemplate>
                                        </RadioButton.ControlTemplate>
                                    </RadioButton>

                                    <RadioButton Content="Youth only" 
                                                 Value="YouthOnly"
                                                 GroupName="ProfileVisibility">
                                        <RadioButton.ControlTemplate>
                                            <ControlTemplate>
                                                <Frame BackgroundColor="#F5F5F5"
                                                       CornerRadius="10"
                                                       Padding="12"
                                                       HasShadow="False"
                                                       BorderColor="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}">
                                                    <HorizontalStackLayout Spacing="10">
                                                        <Ellipse Fill="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}"
                                                                 WidthRequest="20"
                                                                 HeightRequest="20"
                                                                 Stroke="#E0E0E0"
                                                                 StrokeThickness="2"/>
                                                        <Label Text="Youth only"
                                                               FontSize="14"
                                                               TextColor="#1E3A5F"
                                                               VerticalOptions="Center"/>
                                                    </HorizontalStackLayout>
                                                </Frame>
                                            </ControlTemplate>
                                        </RadioButton.ControlTemplate>
                                    </RadioButton>

                                    <RadioButton Content="Only me" 
                                                 Value="OnlyMe"
                                                 GroupName="ProfileVisibility">
                                        <RadioButton.ControlTemplate>
                                            <ControlTemplate>
                                                <Frame BackgroundColor="#F5F5F5"
                                                       CornerRadius="10"
                                                       Padding="12"
                                                       HasShadow="False"
                                                       BorderColor="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}">
                                                    <HorizontalStackLayout Spacing="10">
                                                        <Ellipse Fill="{Binding Source={RelativeSource TemplatedParent}, Path=IsChecked, Converter={StaticResource BoolToColorConverter}}"
                                                                 WidthRequest="20"
                                                                 HeightRequest="20"
                                                                 Stroke="#E0E0E0"
                                                                 StrokeThickness="2"/>
                                                        <Label Text="Only me"
                                                               FontSize="14"
                                                               TextColor="#1E3A5F"
                                                               VerticalOptions="Center"/>
                                                    </HorizontalStackLayout>
                                                </Frame>
                                            </ControlTemplate>
                                        </RadioButton.ControlTemplate>
                                    </RadioButton>
                                </VerticalStackLayout>
                            </VerticalStackLayout>

                        </VerticalStackLayout>
                    </Frame>

                </VerticalStackLayout>

                <!-- ==================== SECTION 5: DOCUMENTS & OVERVIEW ==================== -->
                <!-- CONTINUES IN NEXT MESSAGE... -->

            </VerticalStackLayout>
        </ScrollView>

        <!-- BOTTOM ACTION BUTTONS -->
        <Frame Grid.Row="2"
               BackgroundColor="White"
               Padding="20,15"
               CornerRadius="0"
               HasShadow="True">
            <Grid ColumnDefinitions="*,*" 
                  ColumnSpacing="12"
                  RowDefinitions="Auto,Auto"
                  RowSpacing="10">

                <!-- Previous Button -->
                <Button Grid.Column="0"
                        Text="â† Previous"
                        BackgroundColor="Transparent"
                        TextColor="#1E3A5F"
                        BorderColor="#1E3A5F"
                        BorderWidth="2"
                        CornerRadius="12"
                        Padding="0,14"
                        FontAttributes="Bold"
                        FontSize="15"
                        IsVisible="{Binding ShowPreviousButton}"
                        Command="{Binding PreviousCommand}"/>

                <!-- Next/Submit Button -->
                <Button Grid.Column="1"
                        Text="{Binding NextButtonText}"
                        BackgroundColor="#FFA500"
                        TextColor="White"
                        CornerRadius="12"
                        Padding="0,14"
                        FontAttributes="Bold"
                        FontSize="15"
                        Command="{Binding NextCommand}"/>

                <!-- Cancel Button -->
                <Button Grid.Row="1"
                        Grid.ColumnSpan="2"
                        Text="Save as Draft"
                        BackgroundColor="Transparent"
                        TextColor="#64748B"
                        BorderColor="#E0E0E0"
                        BorderWidth="1"
                        CornerRadius="10"
                        Padding="0,12"
                        FontSize="13"
                        Command="{Binding SaveDraftCommand}"/>

            </Grid>
        </Frame>

    </Grid>
</ContentPage>