<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EC_Youth_Portal.Views.DashBoard.MyProfilePage"
              BackgroundColor="#F5F5F5"
              NavigationPage.HasNavigationBar="False"
              Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="Auto,*">

        <!-- CUSTOM HEADER -->
        <Frame Grid.Row="0"
               BackgroundColor="#1E3A5F"
               CornerRadius="0"
               Padding="0"
               HasShadow="True">
            <Grid ColumnDefinitions="50,*,50"
                  Padding="15,10"
                  HeightRequest="60">

                <!-- Back Button (Optional - can remove if not needed) -->
                <Frame Grid.Column="0"
                       BackgroundColor="Transparent"
                       Padding="0"
                       WidthRequest="40"
                       HeightRequest="40"
                       VerticalOptions="Center"
                       HasShadow="False"
                       IsVisible="False">
                    <Label Text="‹"
                           FontSize="32"
                           TextColor="White"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
                </Frame>

                <!-- Page Title (Center) -->
                <Label Grid.Column="1"
                       Text="My Profile"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="White"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"/>

                <!-- Options Menu (Right) -->
                <Frame Grid.Column="2"
                       BackgroundColor="Transparent"
                       Padding="0"
                       WidthRequest="40"
                       HeightRequest="40"
                       VerticalOptions="Center"
                       HasShadow="False">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding OptionsCommand}"/>
                    </Frame.GestureRecognizers>
                    <Border BackgroundColor="Transparent"
                            StrokeThickness="0"
                            WidthRequest="32"
                            HeightRequest="32"
                            HorizontalOptions="Center"
                            VerticalOptions="Center">
                        <Path Data="M12 8C13.1 8 14 7.1 14 6C14 4.9 13.1 4 12 4C10.9 4 10 4.9 10 6C10 7.1 10.9 8 12 8ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM12 16C10.9 16 10 16.9 10 18C10 19.1 10.9 20 12 20C13.1 20 14 19.1 14 18C14 16.9 13.1 16 12 16Z"
                              Fill="White"
                              HorizontalOptions="Center"
                              VerticalOptions="Center"
                              WidthRequest="20"
                              HeightRequest="20"
                              Aspect="Uniform"/>
                    </Border>
                </Frame>

            </Grid>
        </Frame>

        <!-- SCROLLABLE CONTENT -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="20" Spacing="25">

                <!-- User Profile Card -->
                <Frame BackgroundColor="White"
                       CornerRadius="20"
                       Padding="0"
                       HasShadow="False"
                       BorderColor="#E0E0E0">
                    <VerticalStackLayout Spacing="0">

                        <!-- Profile Header with Background -->
                        <Grid RowDefinitions="80,60"
                              BackgroundColor="#1E3A5F">

                            <!-- Profile Image Container -->
                            <Frame Grid.Row="1"
                                   BackgroundColor="White"
                                   CornerRadius="60"
                                   Padding="5"
                                   WidthRequest="110"
                                   HeightRequest="110"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Start"
                                   HasShadow="True"
                                   Margin="0,-55,0,0">
                                <Frame BackgroundColor="#FFA500"
                                       CornerRadius="50"
                                       Padding="0"
                                       HasShadow="False">
                                    <Border BackgroundColor="Transparent"
                                            StrokeThickness="0"
                                            WidthRequest="60"
                                            HeightRequest="60"
                                            HorizontalOptions="Center"
                                            VerticalOptions="Center">
                                        <Path Data="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 5C13.66 5 15 6.34 15 8C15 9.66 13.66 11 12 11C10.34 11 9 9.66 9 8C9 6.34 10.34 5 12 5ZM12 19.2C9.5 19.2 7.29 17.92 6 15.98C6.03 13.99 10 12.9 12 12.9C13.99 12.9 17.97 13.99 18 15.98C16.71 17.92 14.5 19.2 12 19.2Z"
                                              Fill="White"
                                              HorizontalOptions="Center"
                                              VerticalOptions="Center"
                                              Aspect="Uniform"/>
                                    </Border>
                                </Frame>
                            </Frame>
                        </Grid>

                        <!-- User Info -->
                        <VerticalStackLayout Spacing="5"
                                           Padding="20"
                                           Margin="0,10,0,0">
                            <Label Text="{Binding UserName}"
                                   FontSize="24"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   HorizontalOptions="Center"/>
                            <Label Text="{Binding UserEmail}"
                                   FontSize="14"
                                   TextColor="#64748B"
                                   HorizontalOptions="Center"/>

                            <!-- Edit Profile Button -->
                            <Button Text="Edit Profile"
                                    Command="{Binding EditProfileCommand}"
                                    BackgroundColor="#FFA500"
                                    TextColor="White"
                                    FontSize="14"
                                    FontAttributes="Bold"
                                    CornerRadius="20"
                                    HeightRequest="40"
                                    WidthRequest="150"
                                    HorizontalOptions="Center"
                                    Margin="0,15,0,10"/>
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Frame>

                <!-- Profile Completion Card -->
                <Frame BackgroundColor="White"
                       CornerRadius="16"
                       Padding="20"
                       HasShadow="False"
                       BorderColor="#E0E0E0">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Frame Grid.Column="0"
                               BackgroundColor="#F8F9FA"
                               CornerRadius="10"
                               Padding="12"
                               WidthRequest="45"
                               HeightRequest="45"
                               HasShadow="False">
                            <Border BackgroundColor="Transparent"
                                    StrokeThickness="0"
                                    WidthRequest="24"
                                    HeightRequest="24"
                                    HorizontalOptions="Center"
                                    VerticalOptions="Center">
                                <Path Data="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z"
                                      Fill="#1E3A5F"
                                      HorizontalOptions="Center"
                                      VerticalOptions="Center"
                                      Aspect="Uniform"/>
                            </Border>
                        </Frame>

                        <VerticalStackLayout Grid.Column="1"
                                           Spacing="3"
                                           VerticalOptions="Center"
                                           Margin="15,0,0,0">
                            <Label Text="Profile Completion"
                                   FontSize="15"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"/>
                            <Label Text="Complete your profile to unlock all features"
                                   FontSize="12"
                                   TextColor="#64748B"/>
                        </VerticalStackLayout>

                        <Label Grid.Column="2"
                               Text="{Binding ProfileCompletionPercentage}"
                               FontSize="24"
                               FontAttributes="Bold"
                               TextColor="#4CAF50"
                               VerticalOptions="Center"/>
                    </Grid>
                </Frame>

                <!-- Menu Options Section -->
                <VerticalStackLayout Spacing="12">

                    <!-- Saved Items -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="18"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToSavedItemsCommand}"/>
                        </Frame.GestureRecognizers>
                        <Grid ColumnDefinitions="Auto,*,Auto">
                            <Frame Grid.Column="0"
                                   BackgroundColor="#F8F9FA"
                                   CornerRadius="12"
                                   Padding="12"
                                   WidthRequest="45"
                                   HeightRequest="45"
                                   HasShadow="False">
                                <Border BackgroundColor="Transparent"
                                        StrokeThickness="0"
                                        WidthRequest="24"
                                        HeightRequest="24"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center">
                                    <Path Data="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z"
                                          Fill="#1E3A5F"
                                          HorizontalOptions="Center"
                                          VerticalOptions="Center"
                                          Aspect="Uniform"/>
                                </Border>
                            </Frame>

                            <VerticalStackLayout Grid.Column="1"
                                               Spacing="3"
                                               VerticalOptions="Center"
                                               Margin="15,0,0,0">
                                <Label Text="Saved Items"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="View your bookmarked opportunities"
                                       FontSize="12"
                                       TextColor="#64748B"/>
                            </VerticalStackLayout>

                            <Label Grid.Column="2"
                                   Text="›"
                                   FontSize="28"
                                   TextColor="#FFA500"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Frame>

                    <!-- Personal Information -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="18"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToPersonalInfoCommand}"/>
                        </Frame.GestureRecognizers>
                        <Grid ColumnDefinitions="Auto,*,Auto">
                            <Frame Grid.Column="0"
                                   BackgroundColor="#F8F9FA"
                                   CornerRadius="12"
                                   Padding="12"
                                   WidthRequest="45"
                                   HeightRequest="45"
                                   HasShadow="False">
                                <Border BackgroundColor="Transparent"
                                        StrokeThickness="0"
                                        WidthRequest="24"
                                        HeightRequest="24"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center">
                                    <Path Data="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 5C13.66 5 15 6.34 15 8C15 9.66 13.66 11 12 11C10.34 11 9 9.66 9 8C9 6.34 10.34 5 12 5ZM12 19.2C9.5 19.2 7.29 17.92 6 15.98C6.03 13.99 10 12.9 12 12.9C13.99 12.9 17.97 13.99 18 15.98C16.71 17.92 14.5 19.2 12 19.2Z"
                                          Fill="#1E3A5F"
                                          HorizontalOptions="Center"
                                          VerticalOptions="Center"
                                          Aspect="Uniform"/>
                                </Border>
                            </Frame>

                            <VerticalStackLayout Grid.Column="1"
                                               Spacing="3"
                                               VerticalOptions="Center"
                                               Margin="15,0,0,0">
                                <Label Text="Personal Information"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="Manage your account details"
                                       FontSize="12"
                                       TextColor="#64748B"/>
                            </VerticalStackLayout>

                            <Label Grid.Column="2"
                                   Text="›"
                                   FontSize="28"
                                   TextColor="#FFA500"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Frame>

                    <!-- Settings -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="18"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToSettingsCommand}"/>
                        </Frame.GestureRecognizers>
                        <Grid ColumnDefinitions="Auto,*,Auto">
                            <Frame Grid.Column="0"
                                   BackgroundColor="#F8F9FA"
                                   CornerRadius="12"
                                   Padding="12"
                                   WidthRequest="45"
                                   HeightRequest="45"
                                   HasShadow="False">
                                <Border BackgroundColor="Transparent"
                                        StrokeThickness="0"
                                        WidthRequest="24"
                                        HeightRequest="24"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center">
                                    <Path Data="M19.14 12.94C19.18 12.64 19.2 12.33 19.2 12C19.2 11.68 19.18 11.36 19.13 11.06L21.16 9.48C21.34 9.34 21.39 9.07 21.28 8.87L19.36 5.55C19.24 5.33 18.99 5.26 18.77 5.33L16.38 6.29C15.88 5.91 15.35 5.59 14.76 5.35L14.4 2.81C14.36 2.57 14.16 2.4 13.92 2.4H10.08C9.84 2.4 9.65 2.57 9.61 2.81L9.25 5.35C8.66 5.59 8.12 5.92 7.63 6.29L5.24 5.33C5.02 5.25 4.77 5.33 4.65 5.55L2.74 8.87C2.62 9.08 2.66 9.34 2.86 9.48L4.89 11.06C4.84 11.36 4.8 11.69 4.8 12C4.8 12.31 4.82 12.64 4.87 12.94L2.84 14.52C2.66 14.66 2.61 14.93 2.72 15.13L4.64 18.45C4.76 18.67 5.01 18.74 5.23 18.67L7.62 17.71C8.12 18.09 8.65 18.41 9.24 18.65L9.6 21.19C9.65 21.43 9.84 21.6 10.08 21.6H13.92C14.16 21.6 14.36 21.43 14.39 21.19L14.75 18.65C15.34 18.41 15.88 18.09 16.37 17.71L18.76 18.67C18.98 18.75 19.23 18.67 19.35 18.45L21.27 15.13C21.39 14.91 21.34 14.66 21.15 14.52L19.14 12.94ZM12 15.6C10.02 15.6 8.4 13.98 8.4 12C8.4 10.02 10.02 8.4 12 8.4C13.98 8.4 15.6 10.02 15.6 12C15.6 13.98 13.98 15.6 12 15.6Z"
                                          Fill="#1E3A5F"
                                          HorizontalOptions="Center"
                                          VerticalOptions="Center"
                                          Aspect="Uniform"/>
                                </Border>
                            </Frame>

                            <VerticalStackLayout Grid.Column="1"
                                               Spacing="3"
                                               VerticalOptions="Center"
                                               Margin="15,0,0,0">
                                <Label Text="Settings"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="Preferences and notifications"
                                       FontSize="12"
                                       TextColor="#64748B"/>
                            </VerticalStackLayout>

                            <Label Grid.Column="2"
                                   Text="›"
                                   FontSize="28"
                                   TextColor="#FFA500"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Frame>

                    <!-- About -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="18"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToAboutCommand}"/>
                        </Frame.GestureRecognizers>
                        <Grid ColumnDefinitions="Auto,*,Auto">
                            <Frame Grid.Column="0"
                                   BackgroundColor="#F8F9FA"
                                   CornerRadius="12"
                                   Padding="12"
                                   WidthRequest="45"
                                   HeightRequest="45"
                                   HasShadow="False">
                                <Border BackgroundColor="Transparent"
                                        StrokeThickness="0"
                                        WidthRequest="24"
                                        HeightRequest="24"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center">
                                    <Path Data="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V11H13V17ZM13 9H11V7H13V9Z"
                                          Fill="#1E3A5F"
                                          HorizontalOptions="Center"
                                          VerticalOptions="Center"
                                          Aspect="Uniform"/>
                                </Border>
                            </Frame>

                            <VerticalStackLayout Grid.Column="1"
                                               Spacing="3"
                                               VerticalOptions="Center"
                                               Margin="15,0,0,0">
                                <Label Text="About"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="App information and support"
                                       FontSize="12"
                                       TextColor="#64748B"/>
                            </VerticalStackLayout>

                            <Label Grid.Column="2"
                                   Text="›"
                                   FontSize="28"
                                   TextColor="#FFA500"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Frame>

                    <!-- Privacy -->
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="18"
                           HasShadow="False"
                           BorderColor="#E0E0E0">
                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToPrivacyCommand}"/>
                        </Frame.GestureRecognizers>
                        <Grid ColumnDefinitions="Auto,*,Auto">
                            <Frame Grid.Column="0"
                                   BackgroundColor="#F8F9FA"
                                   CornerRadius="12"
                                   Padding="12"
                                   WidthRequest="45"
                                   HeightRequest="45"
                                   HasShadow="False">
                                <Border BackgroundColor="Transparent"
                                        StrokeThickness="0"
                                        WidthRequest="24"
                                        HeightRequest="24"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center">
                                    <Path Data="M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8Z"
                                          Fill="#1E3A5F"
                                          HorizontalOptions="Center"
                                          VerticalOptions="Center"
                                          Aspect="Uniform"/>
                                </Border>
                            </Frame>

                            <VerticalStackLayout Grid.Column="1"
                                               Spacing="3"
                                               VerticalOptions="Center"
                                               Margin="15,0,0,0">
                                <Label Text="Privacy"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"/>
                                <Label Text="Security and data protection"
                                       FontSize="12"
                                       TextColor="#64748B"/>
                            </VerticalStackLayout>

                            <Label Grid.Column="2"
                                   Text="›"
                                   FontSize="28"
                                   TextColor="#FFA500"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Frame>

                </VerticalStackLayout>

                <!-- Logout Button -->
                <Button Text="Logout"
                        Command="{Binding LogoutCommand}"
                        BackgroundColor="Transparent"
                        TextColor="#DC2626"
                        FontSize="16"
                        FontAttributes="Bold"
                        CornerRadius="16"
                        HeightRequest="54"
                        BorderColor="#DC2626"
                        BorderWidth="2"
                        Margin="0,10,0,20"/>

                <!-- App Version -->
                <Label Text="Version 1.0.0"
                       FontSize="12"
                       TextColor="#94A3B8"
                       HorizontalOptions="Center"
                       Margin="0,0,0,20"/>

            </VerticalStackLayout>
        </ScrollView>

    </Grid>

</ContentPage>