<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EC_Youth_Portal.Views.DashBoard.SettingPage"
             BackgroundColor="#F5F5F5"
             NavigationPage.HasNavigationBar="False"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False">

    <Grid RowDefinitions="Auto,*">

        <!-- CUSTOM HEADER -->
        <Frame Grid.Row="0"
               BackgroundColor="#1E3A5F"
               CornerRadius="0"
               Padding="0"
               HasShadow="True">
            <Grid ColumnDefinitions="50,*"
                  Padding="15,10"
                  HeightRequest="60">

                <!-- Back Button -->
                <Frame Grid.Column="0"
                       BackgroundColor="Transparent"
                       Padding="0"
                       WidthRequest="40"
                       HeightRequest="40"
                       VerticalOptions="Center"
                       HasShadow="False">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding BackCommand}"/>
                    </Frame.GestureRecognizers>
                    <Label Text="â†"
                           FontSize="28"
                           TextColor="White"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
                </Frame>

                <!-- Page Title -->
                <VerticalStackLayout Grid.Column="1" 
                                    Spacing="4" 
                                    VerticalOptions="Center"
                                    HorizontalOptions="Start"
                                    Margin="10,0,0,0">
                    <Label Text="Settings"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="White"/>
                    <Label Text="Manage your preferences"
                           FontSize="13"
                           TextColor="#94A3B8"/>
                </VerticalStackLayout>

            </Grid>
        </Frame>

        <!-- SCROLLABLE CONTENT -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="20" Spacing="20">

                <!-- Y2R CONNECT CARD -->
                <Frame BackgroundColor="#FFF3E0"
                       BorderColor="#FFA500"
                       CornerRadius="16"
                       Padding="20"
                       HasShadow="False">
                    <VerticalStackLayout Spacing="15">

                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸ¤" FontSize="24"/>
                            <Label Text="Y2R Connect"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <Label Text="Allow recruiters and employers to discover your profile and contact you about job opportunities that match your skills."
                               FontSize="13"
                               TextColor="#64748B"
                               LineBreakMode="WordWrap"/>

                        <Frame BackgroundColor="White"
                               CornerRadius="12"
                               Padding="15"
                               HasShadow="False"
                               BorderColor="#FFA500">
                            <HorizontalStackLayout Spacing="12">
                                <Switch IsToggled="{Binding EnableY2RConnect}"
                                        OnColor="#FFA500"
                                        ThumbColor="White"/>
                                <Label Text="Let recruiters discover me"
                                       FontSize="15"
                                       FontAttributes="Bold"
                                       TextColor="#1E3A5F"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                        </Frame>

                    </VerticalStackLayout>
                </Frame>

                <!-- NOTIFICATION PREFERENCES CARD -->
                <Frame BackgroundColor="White"
                       CornerRadius="16"
                       Padding="20"
                       HasShadow="False"
                       BorderColor="#E0E0E0">
                    <VerticalStackLayout Spacing="18">

                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸ””" FontSize="24"/>
                            <Label Text="Notifications"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <Label Text="Choose how you want to be notified"
                               FontSize="13"
                               TextColor="#64748B"/>

                        <!-- Email Notifications -->
                        <Frame BackgroundColor="#F5F5F5"
                               CornerRadius="12"
                               Padding="15"
                               HasShadow="False"
                               BorderColor="#E0E0E0">
                            <HorizontalStackLayout Spacing="12">
                                <Switch IsToggled="{Binding NotifyByEmail}"
                                        OnColor="#FFA500"
                                        ThumbColor="White"/>
                                <VerticalStackLayout Spacing="2" VerticalOptions="Center">
                                    <Label Text="ðŸ“§ Email notifications"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Label Text="Receive updates via email"
                                           FontSize="12"
                                           TextColor="#64748B"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>
                        </Frame>

                        <!-- SMS Notifications -->
                        <Frame BackgroundColor="#F5F5F5"
                               CornerRadius="12"
                               Padding="15"
                               HasShadow="False"
                               BorderColor="#E0E0E0">
                            <HorizontalStackLayout Spacing="12">
                                <Switch IsToggled="{Binding NotifyBySMS}"
                                        OnColor="#FFA500"
                                        ThumbColor="White"/>
                                <VerticalStackLayout Spacing="2" VerticalOptions="Center">
                                    <Label Text="ðŸ“± SMS/Text messages"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Label Text="Get text message alerts"
                                           FontSize="12"
                                           TextColor="#64748B"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>
                        </Frame>

                        <!-- Push Notifications -->
                        <Frame BackgroundColor="#F5F5F5"
                               CornerRadius="12"
                               Padding="15"
                               HasShadow="False"
                               BorderColor="#E0E0E0">
                            <HorizontalStackLayout Spacing="12">
                                <Switch IsToggled="{Binding NotifyByPush}"
                                        OnColor="#FFA500"
                                        ThumbColor="White"/>
                                <VerticalStackLayout Spacing="2" VerticalOptions="Center">
                                    <Label Text="ðŸ”” Push notifications"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#1E3A5F"/>
                                    <Label Text="In-app notifications"
                                           FontSize="12"
                                           TextColor="#64748B"/>
                                </VerticalStackLayout>
                            </HorizontalStackLayout>
                        </Frame>

                        <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                        <!-- Notification Frequency -->
                        <VerticalStackLayout Spacing="10">
                            <Label Text="Notification Frequency"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"/>
                            <Frame Padding="0"
                                   CornerRadius="12"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0"
                                   BackgroundColor="White">
                                <Picker SelectedItem="{Binding NotificationFrequency}"
                                        TextColor="#1E3A5F"
                                        FontSize="14"
                                        Margin="12,0">
                                    <Picker.Items>
                                        <x:String>Daily</x:String>
                                        <x:String>Weekly</x:String>
                                        <x:String>Important Only</x:String>
                                        <x:String>Never</x:String>
                                    </Picker.Items>
                                </Picker>
                            </Frame>
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Frame>

                <!-- ACCESSIBILITY CARD -->
                <Frame BackgroundColor="White"
                       CornerRadius="16"
                       Padding="20"
                       HasShadow="False"
                       BorderColor="#E0E0E0">
                    <VerticalStackLayout Spacing="15">

                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸŒ" FontSize="24"/>
                            <Label Text="Accessibility"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <!-- Language Selection -->
                        <VerticalStackLayout Spacing="10">
                            <Label Text="Preferred Language"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"/>
                            <Label Text="Choose your preferred language"
                                   FontSize="12"
                                   TextColor="#64748B"/>
                            <Frame Padding="0"
                                   CornerRadius="12"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0"
                                   BackgroundColor="White">
                                <Picker SelectedItem="{Binding PreferredLanguage}"
                                        TextColor="#1E3A5F"
                                        FontSize="14"
                                        Margin="12,0">
                                    <Picker.Items>
                                        <x:String>English</x:String>
                                        <x:String>isiXhosa</x:String>
                                        <x:String>Afrikaans</x:String>
                                        <x:String>isiZulu</x:String>
                                        <x:String>Sesotho</x:String>
                                    </Picker.Items>
                                </Picker>
                            </Frame>
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Frame>

                <!-- PRIVACY SETTINGS CARD -->
                <Frame BackgroundColor="White"
                       CornerRadius="16"
                       Padding="20"
                       HasShadow="False"
                       BorderColor="#E0E0E0">
                    <VerticalStackLayout Spacing="15">

                        <HorizontalStackLayout Spacing="10">
                            <Label Text="ðŸ”’" FontSize="24"/>
                            <Label Text="Privacy"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <!-- Profile Visibility -->
                        <VerticalStackLayout Spacing="10">
                            <Label Text="Who can view your profile?"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#1E3A5F"/>
                            <Label Text="Control who can see your information"
                                   FontSize="12"
                                   TextColor="#64748B"/>
                            <Frame Padding="0"
                                   CornerRadius="12"
                                   HasShadow="False"
                                   BorderColor="#E0E0E0"
                                   BackgroundColor="White">
                                <Picker SelectedItem="{Binding ProfileVisibility}"
                                        TextColor="#1E3A5F"
                                        FontSize="14"
                                        Margin="12,0">
                                    <Picker.Items>
                                        <x:String>Everyone</x:String>
                                        <x:String>Recruiters only</x:String>
                                        <x:String>Youth only</x:String>
                                        <x:String>Only me</x:String>
                                    </Picker.Items>
                                </Picker>
                            </Frame>
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Frame>

                <!-- SAVE BUTTON -->
                <Button Text="Save Settings"
                        BackgroundColor="#FFA500"
                        TextColor="White"
                        FontSize="16"
                        FontAttributes="Bold"
                        CornerRadius="12"
                        HeightRequest="50"
                        Margin="0,10,0,0"
                        Command="{Binding SaveSettingsCommand}">
                    <Button.Shadow>
                        <Shadow Brush="#FFA500"
                                Offset="0,4"
                                Radius="10"
                                Opacity="0.3"/>
                    </Button.Shadow>
                </Button>

                <!-- Bottom Spacing -->
                <BoxView HeightRequest="20" Color="Transparent"/>

            </VerticalStackLayout>
        </ScrollView>

    </Grid>
    
</ContentPage>