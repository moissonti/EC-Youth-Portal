<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:converters="clr-namespace:EC_Youth_Portal.Converters"
             x:Class="EC_Youth_Portal.Views.LoginPage"
             Title="LoginPage"
             BackgroundColor="White"
             NavigationPage.HasNavigationBar="False"
             Shell.NavBarIsVisible="False"
              Shell.TabBarIsVisible="False">

    <ContentPage.Resources>
        <ResourceDictionary>
            <converters:StringToBoolConverter x:Key="StringToBoolConverter"/>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid RowDefinitions="220,*">

        <!-- Orange Curved Header -->
        <Grid Grid.Row="0">
            <!-- Orange Background -->
            <BoxView BackgroundColor="#FFA500"
                     VerticalOptions="Fill"
                     HorizontalOptions="Fill"/>

            <!-- White Curve at Bottom using Path -->
            <Path Data="M 0,200 Q 190,240 380,200 L 380,220 L 0,220 Z"
                  Fill="White"
                  VerticalOptions="End"
                  HorizontalOptions="Fill"
                  HeightRequest="40"
                  Aspect="Fill"/>

            <!-- Back Arrow -->
            <Label Text="â†"
                   FontSize="28"
                   TextColor="#1E3A5F"
                   FontAttributes="Bold"
                   HorizontalOptions="Start"
                   VerticalOptions="Start"
                   Margin="20,50,0,0">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnBackClicked"/>
                </Label.GestureRecognizers>
            </Label>
        </Grid>

        <!-- Main Content -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="30,0,30,30"
                                Spacing="0">

                <!-- Illustration -->
                <Image Source="login_illustration.jpeg"
                       HeightRequest="200"
                       Aspect="AspectFit"
                       Margin="0,-60,0,10"/>

                <!-- Login Title -->
                <Label Text="Login"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="#1E3A5F"
                       HorizontalTextAlignment="Center"
                       Margin="0,0,0,8"/>

                <!-- Subtitle -->
                <Label Text="Let's Get Started"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="#1E3A5F"
                       HorizontalTextAlignment="Center"
                       Margin="0,0,0,4"/>

                <Label Text="Register an account"
                       FontSize="13"
                       TextColor="#94A3B8"
                       HorizontalTextAlignment="Center"
                       Margin="0,0,0,30"/>

                <!-- Email or Mobile Input -->
                <Label Text="Email or Mobile"
                       FontSize="12"
                       TextColor="#1E3A5F"
                       FontAttributes="Bold"
                       Margin="0,0,0,8"/>

                <Border StrokeThickness="1"
                        Stroke="#E5E5E5"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 8"
                        Padding="15,0"
                        HeightRequest="50"
                        Margin="0,0,0,20">
                    <Entry Placeholder="example@gmail.com"
                           Text="{Binding Email}"
                           Keyboard="Email"
                           TextColor="#1E3A5F"
                           PlaceholderColor="#BDBDBD"
                           FontSize="14"
                           VerticalOptions="Center"
                           BackgroundColor="Transparent"/>
                </Border>

                <!-- Password Input -->
                <Label Text="Password"
                       FontSize="12"
                       TextColor="#1E3A5F"
                       FontAttributes="Bold"
                       Margin="0,0,0,8"/>

                <Border StrokeThickness="1"
                        Stroke="#E5E5E5"
                        BackgroundColor="White"
                        StrokeShape="RoundRectangle 8"
                        Padding="15,0"
                        HeightRequest="50"
                        Margin="0,0,0,8">
                    <Grid ColumnDefinitions="*,Auto">
                        <Entry Grid.Column="0"
                               Placeholder="****************"
                               Text="{Binding Password}"
                               IsPassword="True"
                               TextColor="#1E3A5F"
                               PlaceholderColor="#BDBDBD"
                               FontSize="14"
                               VerticalOptions="Center"
                               BackgroundColor="Transparent"/>

                        <Label Grid.Column="1"
                               Text="ðŸ‘"
                               FontSize="18"
                               TextColor="#FFA500"
                               VerticalOptions="Center"
                               Padding="10,0,0,0"/>
                    </Grid>
                </Border>

                <!-- Forgot Password -->
                <Label Text="Forgot password?"
                       FontSize="12"
                       TextColor="#FFA500"
                       HorizontalOptions="End"
                       Margin="0,0,0,30">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding ForgotPasswordCommand}"/>
                    </Label.GestureRecognizers>
                </Label>

                <!-- Login Button -->
                <Button Text="Login"
                        Command="{Binding LoginCommand}"
                        BackgroundColor="#FFA500"
                        TextColor="White"
                        FontSize="16"
                        FontAttributes="Bold"
                        CornerRadius="8"
                        HeightRequest="52"
                        Margin="0,0,0,20"/>

                <!-- Sign Up Link -->
                <HorizontalStackLayout HorizontalOptions="Center"
                                      Spacing="5">
                    <Label Text="Already have account?"
                           FontSize="13"
                           TextColor="#757575"/>
                    <Label Text="Sign in"
                           FontSize="13"
                           FontAttributes="Bold"
                           TextColor="#FFA500">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToRegisterCommand}"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>

            </VerticalStackLayout>
        </ScrollView>

    </Grid>
</ContentPage>
